<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="rgb(255,255,255)"><title>Why Kafka Streams JVM Looks Healthy Before Getting OOMKilled &#183; jonasg.io </title><meta name=title content="Why Kafka Streams JVM Looks Healthy Before Getting OOMKilled &#183; jonasg.io "><script type=text/javascript src=/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="></script><link type=text/css rel=stylesheet href=/css/main.bundle.min.3e97d1a40161cd59b059d44499fc9d982d868881f1450889ca07e646a9fb3a8e.css integrity="sha256-PpfRpAFhzVmwWdREmfydmC2GiIHxRQiJygfmRqn7Oo4="><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.81b6b27b20d7cc222185cf48bd73cd7dac1fa12efea633d2e2c7b1930d36259f.js integrity="sha256-gbayeyDXzCIhhc9IvXPNfawfoS7+pjPS4sexkw02JZ8=" data-copy=Copy data-copied=Copied></script><meta name=description content="
      How to tame RocksDB memory consumption in Kafka Streams.
    "><link rel=canonical href=https://jonasg.io/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://jonasg.io/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/"><meta property="og:site_name" content="jonasg.io "><meta property="og:title" content="Why Kafka Streams JVM Looks Healthy Before Getting OOMKilled"><meta property="og:description" content="How to tame RocksDB memory consumption in Kafka Streams."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-12-17T00:00:00+00:00"><meta property="article:modified_time" content="2025-12-17T00:00:00+00:00"><meta property="article:tag" content="Java"><meta property="article:tag" content="Spring-Boot"><meta property="article:tag" content="Kafka"><meta property="article:tag" content="Kafka-Streams"><meta property="og:image" content="https://jonasg.io/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/cover.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jonasg.io/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/cover.jpg"><meta name=twitter:title content="Why Kafka Streams JVM Looks Healthy Before Getting OOMKilled"><meta name=twitter:description content="How to tame RocksDB memory consumption in Kafka Streams."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","articleSection":"Jonas on Software","name":"Why Kafka Streams JVM Looks Healthy Before Getting OOMKilled","headline":"Why Kafka Streams JVM Looks Healthy Before Getting OOMKilled","description":"How to tame RocksDB memory consumption in Kafka Streams.","abstract":"\u003cp\u003eHow to tame RocksDB memory consumption in Kafka Streams.\u003c\/p\u003e","inLanguage":"en","url":"https:\/\/jonasg.io\/posts\/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled\/","author":{"@type":"Person","name":"Jonas Geiregat"},"copyrightYear":"2025","dateCreated":"2025-12-17T00:00:00\u002b00:00","datePublished":"2025-12-17T00:00:00\u002b00:00","dateModified":"2025-12-17T00:00:00\u002b00:00","keywords":["java","spring-boot","kafka","kafka-streams"],"mainEntityOfPage":"true","wordCount":"886"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://jonasg.io/","name":"","position":1},{"@type":"ListItem","item":"https://jonasg.io/posts/","name":"Jonas on Software","position":2},{"@type":"ListItem","name":"Why Kafka Streams Jvm Looks Healthy Before Getting Oomkilled","position":3}]}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPY1Q2T661"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPY1Q2T661")}</script></head><body class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden"><nav class="flex items-start justify-between sm:items-center"><div class="z-40 flex flex-row items-center"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>jonasg.io</a></div><label id=menu-button for=menu-controller class="block sm:hidden"><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentcolor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper class="invisible fixed inset-0 z-30 m-auto h-full w-full cursor-default overflow-auto bg-neutral-100/50 opacity-0 backdrop-blur-sm transition-opacity dark:bg-neutral-900/50"><ul class="mx-auto flex w-full max-w-7xl list-none flex-col overflow-visible px-6 py-6 text-end sm:px-14 sm:py-10 sm:pt-10 md:px-24 lg:px-32"><li class=mb-1><span class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class="group mb-1"><a href=/posts/ title="Jonas on Software" onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Articles</span></a></li><li class="group mb-1"><a href=/my-open-code-overture/ title="My Open Code Overture" onclick=close_menu()><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Projects</span></a></li><li class="group mb-1"><button id=search-button-m0 title="Search (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></span></button></li></ul></div></label><ul class="hidden list-none flex-row text-end sm:flex"><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/posts/ title="Jonas on Software"><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Articles</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><a href=/my-open-code-overture/ title="My Open Code Overture"><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Projects</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0"><button id=search-button-m1 title="Search (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></span></button></li></ul></nav></header><div class="relative flex grow flex-col"><main id=main-content class=grow><article><header class=max-w-prose><h1 class="mb-8 mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Why Kafka Streams JVM Looks Healthy Before Getting OOMKilled</h1><div class="mb-10 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2025-12-17 00:00:00 +0000 UTC">17 December 2025</time><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">5 mins</span></div><div class="my-1 flex flex-wrap text-xs leading-relaxed text-neutral-500 dark:text-neutral-400"><a href=/tags/java/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">Java</a>
<a href=/tags/spring-boot/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">Spring-Boot</a>
<a href=/tags/kafka/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">Kafka</a>
<a href=/tags/kafka-streams/ class="mx-1 my-1 rounded-md border border-neutral-200 px-1 py-[1px] hover:border-primary-300 hover:text-primary-700 dark:border-neutral-600 dark:hover:border-primary-600 dark:hover:text-primary-400">Kafka-Streams</a></div></div><div class=prose><picture class="mb-6 rounded-md"><source srcset="/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/cover_hu_7c8b9784a7f8a74f.webp 330w,/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/cover_hu_8a565fa993855bb9.webp 660w
,/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/cover_hu_edd4f382f368240c.webp 1024w
,/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/cover_hu_fe50a2a39a0877a0.webp 1320w" sizes=100vw type=image/webp><img width=1920 height=1280 class="mb-6 rounded-md" src=/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/cover_hu_ef10e2442d63deb3.jpg srcset="/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/cover_hu_582742d984ea1954.jpg 330w,/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/cover_hu_ef10e2442d63deb3.jpg 660w
,/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/cover_hu_93c86ba22ea69d40.jpg 1024w
,/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/cover_hu_648e5016e08ed58.jpg 1320w" sizes=100vw></picture></div></header><section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row"><div class="min-h-0 min-w-0 max-w-prose grow"><p>How to tame RocksDB memory consumption in Kafka Streams.</p><hr><h2 id=the-memory-problem class="relative group">The memory problem <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#the-memory-problem aria-label=Anchor>#</a></span></h2><p>Kafka Streams applications often behave perfectly in development and then mysteriously fall apart once deployed to
Kubernetes. Pods get OOMKilled, memory usage steadily climbs, and scaling replicas only seems to make things worse.</p><p>At first glance, this feels like a JVM or maybe even a Kubernetes problem.</p><ul><li>You’ve defined k8s memory limits.<br></li><li>You’ve sized your pods generously.<br></li><li>And yet… Kafka Streams keeps eating memory until Kubernetes pulls the plug.<br></li></ul><p>The root issue is subtle but critical:</p><blockquote><p>Kafka Streams assumes it can use all memory available - not aware of the memory limits imposed by Kubernetes.</p></blockquote><h2 id=where-does-kafka-streams-eat-memory class="relative group">Where does Kafka Streams eat memory? <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#where-does-kafka-streams-eat-memory aria-label=Anchor>#</a></span></h2><p>But how can that be? Isn’t the JVM since Java 17, inside the container already aware of pod memory limits?</p><p>Yes but Kafka Streams, more precisely <strong>RocksDB</strong> isn&rsquo;t.</p><p>The main culprit is <strong>stateful processing</strong>.</p><p>Kafka Streams state-stores are backed by <strong>RocksDB</strong> by default.<br>RocksDB uses <strong>off-heap memory</strong>, completely outside the JVM heap.</p><p>This means:</p><ul><li>The JVM may look perfectly healthy</li><li>Garbage collection may be calm</li></ul><p>And yet…<br>Total process memory keeps growing.</p><p>From Kubernetes’ point of view, there is no distinction between:</p><ul><li>JVM heap</li><li>JVM off-heap</li><li>Native memory used by RocksDB</li></ul><h2 id=how-can-we-tame-kafka-streams-memory-usage class="relative group">How can we tame Kafka Streams memory usage? <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#how-can-we-tame-kafka-streams-memory-usage aria-label=Anchor>#</a></span></h2><p>Kafka Streams does give us a hook to control how much memory RocksDB is allowed to consume.</p><p>That hook is <code>org.apache.kafka.streams.state.RocksDBConfigSetter</code> set through:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>streamProperties</span><span class=p>.</span><span class=na>put</span><span class=p>(</span><span class=n>StreamsConfig</span><span class=p>.</span><span class=na>ROCKSDB_CONFIG_SETTER_CLASS_CONFIG</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                     </span><span class=n>CustomRocksDbConfigSetter</span><span class=w> </span><span class=p>.</span><span class=na>class</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p>It allows you to configure the <a href=https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/state/internals/RocksDBStore.java target=_blank rel=noreferrer><code>RocksDBStore</code></a>.</p><p>It exposes a large number of configuration options with subtle interactions and non-obvious trade-offs.</p><p>Rather than trying to reason about every RocksDB knob, it’s much more effective to focus on the few settings that
actually dominate memory usage.</p><h3 id=read-cache class="relative group">Read Cache <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#read-cache aria-label=Anchor>#</a></span></h3><p>The <strong>BlockCache</strong> is a dedicated area of <em>off-heap memory</em> used to speed up read operations by caching data blocks read
from disk.</p><p>By default, RocksDB allocates a separate BlockCache per RocksDB instance, with a default size of approximately 50MiB.</p><p>Since Kafka Streams creates one RocksDB instance per state-store partition per segment (segment is only applicable for
Versioned - and - Windowed - Stores), this means that for a state-store with 10 partitions and one segment, the default
BlockCache usage would be roughly:</p><p>10 × 50 MiB = 500MiB</p><p><strong>500MiB</strong> just for one state-store read caching!</p><h3 id=write-buffer class="relative group">Write Buffer <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#write-buffer aria-label=Anchor>#</a></span></h3><p>RocksDB uses the concept of <strong>MemTables</strong> as a write buffer.</p><p>By default, Kafka Streams does not set a <a href=https://github.com/facebook/rocksdb/blob/5a06787a26ee4035b5c7d46ea4b3d80fc9bc02c9/java/src/main/java/org/rocksdb/WriteBufferManager.java#L11 target=_blank rel=noreferrer><code>WriteBufferManager</code></a>
and therefore <strong>does not set a unified, global memory limit for all MemTables across all partitions</strong>.</p><h2 id=unified-global-memory-limit class="relative group">Unified global Memory limit <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#unified-global-memory-limit aria-label=Anchor>#</a></span></h2><p>A RocksDB instance is created per partition (segment), hence even if we apply strict memory limits we still need to
multiply them by the number of partitions to be safe.</p><p>This can become convoluted, especially if you have:</p><ul><li>a different number of partitions per environment</li><li>the number of state-stores will differ per application</li></ul><p>Therefore, I advocate creating a <strong>global memory limit</strong> that is used by all stores in your application.
It greatly simplifies reasoning about memory usage.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import</span><span class=w> </span><span class=nn>java.util.Map</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>CustomRocksDbConfigSetter</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>RocksDBConfigSetter</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// Total cache size (read and write) shared across all RocksDB instances in this JVM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>long</span><span class=w> </span><span class=n>CACHE_SIZE_BYTES</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>512L</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>1024</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>1024</span><span class=p>;</span><span class=w> </span><span class=c1>// 512 MiB</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// Total write buffer (MemTables) size shared across all RocksDB instances</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>long</span><span class=w> </span><span class=n>WRITE_BUFFER_SIZE_BYTES</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>125L</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>1024</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>1024</span><span class=p>;</span><span class=w> </span><span class=c1>// 125 MiB</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// RocksDB data block size</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>long</span><span class=w> </span><span class=n>BLOCK_SIZE_BYTES</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>64L</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>1024</span><span class=p>;</span><span class=w> </span><span class=c1>// 64 KB</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>Cache</span><span class=w> </span><span class=n>SHARED_CACHE</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>WriteBufferManager</span><span class=w> </span><span class=n>SHARED_WRITE_BUFFER_MANAGER</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// Class initialization is guaranteed to be thread-safe by the JVM.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// These objects are safely published to all threads.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SHARED_CACHE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>LRUCache</span><span class=p>(</span><span class=n>CACHE_SIZE_BYTES</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>SHARED_WRITE_BUFFER_MANAGER</span><span class=w> </span><span class=o>=</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>new</span><span class=w> </span><span class=n>WriteBufferManager</span><span class=p>(</span><span class=n>WRITE_BUFFER_SIZE_BYTES</span><span class=p>,</span><span class=w> </span><span class=n>SHARED_CACHE</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>CustomRocksDbConfigSetter</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// Instantiated by Kafka Streams (RocksDBStore)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>setConfig</span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>storeName</span><span class=p>,</span><span class=w> </span><span class=n>Options</span><span class=w> </span><span class=n>options</span><span class=p>,</span><span class=w> </span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>Object</span><span class=o>&gt;</span><span class=w> </span><span class=n>configs</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// Reuse the config so not to lose the default setting you&#39;re not overriding.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>var</span><span class=w> </span><span class=n>tableConfig</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>BlockBasedTableConfig</span><span class=p>)</span><span class=w> </span><span class=n>options</span><span class=p>.</span><span class=na>tableFormatConfig</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// Read path tuning</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>tableConfig</span><span class=p>.</span><span class=na>setBlockCache</span><span class=p>(</span><span class=n>SHARED_CACHE</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>tableConfig</span><span class=p>.</span><span class=na>setBlockSize</span><span class=p>(</span><span class=n>BLOCK_SIZE_BYTES</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// By default, index, filter, and compression dictionary blocks are cached outside of block cache.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// Setting this prevents this and makes sure to cache index and filter blocks in block cache.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>tableConfig</span><span class=p>.</span><span class=na>setCacheIndexAndFilterBlocks</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>options</span><span class=p>.</span><span class=na>setTableFormatConfig</span><span class=p>(</span><span class=n>tableConfig</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// Write path tuning</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>options</span><span class=p>.</span><span class=na>setWriteBufferManager</span><span class=p>(</span><span class=n>SHARED_WRITE_BUFFER_MANAGER</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>With the above configuration, RocksDB memory is now bounded to 512MiB.</p><p>No matter how many:</p><ul><li>state-stores</li><li>partitions</li><li>segments</li></ul><p>exist in your application.</p><p>This already removes the biggest source of unbounded memory growth.
But we are not done yet.</p><h2 id=sizing-your-pod class="relative group">Sizing your Pod <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#sizing-your-pod aria-label=Anchor>#</a></span></h2><p>If you have a Kubernetes memory limit of <strong>2GiB</strong>, you must account for the &ldquo;invisible&rdquo; RocksDB overhead.</p><table><thead><tr><th>Component</th><th style=text-align:center>Size</th><th style=text-align:right>Reasoning</th></tr></thead><tbody><tr><td>RocksDB Shared Cache</td><td style=text-align:center>512MiB</td><td style=text-align:right>This covers both the Block Cache and the Write Buffer Manager.</td></tr><tr><td>JVM Heap (<code>-Xmx</code>)</td><td style=text-align:center>1024MiB</td><td style=text-align:right>Leaves room for your application logic and Kafka Streams internal objects.</td></tr><tr><td>Overhead/Metaspace</td><td style=text-align:center>512MiB</td><td style=text-align:right>Covers JVM stack threads, Metaspace, and native overhead.</td></tr></tbody></table><p>The custom implementation of <code>RocksDBConfigSetter</code> defines static values.
Maybe your application is more write heavy than read and another is not so you&rsquo;ll want to set these values dynamically.
And maybe you want different limits per environment, or maybe you want a shared <strong>configurable</strong> class for all your
applications?</p><p>In the <a href=https://jonasg.io/posts/externalize-rocksdb-configuration-in-spring-boot/ target=_blank rel=noreferrer>next part</a>, I’ll show you how to move these magic numbers into your <code>application.yaml</code> and create a reusable,
<strong>spring-aware</strong> <code>RocksDBConfigSetter</code> that works across all your stream processing application.</p></div></section><footer class="max-w-prose pt-8 print:hidden"><div class=flex><picture class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full"><img width=409 height=450 class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full" alt="Jonas Geiregat" loading=lazy decoding=async src=/img/author.png></picture><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Jonas Geiregat</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://github.com/jonas-grgt target=_blank aria-label=Github rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://www.linkedin.com/in/jonasgeiregat target=_blank aria-label=Linkedin rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentcolor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://twitter.com/jonas_grgt target=_blank aria-label=Twitter rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></span></a></div></div></div></div><section class="flex flex-row flex-wrap justify-center pt-4 text-xl"><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://twitter.com/intent/tweet/?url=https://jonasg.io/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/&amp;text=Why%20Kafka%20Streams%20JVM%20Looks%20Healthy%20Before%20Getting%20OOMKilled" title="Tweet on Twitter" aria-label="Tweet on Twitter" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://tootpick.org/#text=https://jonasg.io/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/%20Why%20Kafka%20Streams%20JVM%20Looks%20Healthy%20Before%20Getting%20OOMKilled" title="Toot on Mastodon" aria-label="Toot on Mastodon" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentcolor" d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48.0.0.0-63.72 28.5-63.72 125.7.0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54.0 01-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://reddit.com/submit/?url=https://jonasg.io/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/&amp;resubmit=true&amp;title=Why%20Kafka%20Streams%20JVM%20Looks%20Healthy%20Before%20Getting%20OOMKilled" title="Submit to Reddit" aria-label="Submit to Reddit" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M201.5 305.5c-13.8.0-24.9-11.1-24.9-24.6.0-13.8 11.1-24.9 24.9-24.9 13.6.0 24.6 11.1 24.6 24.9.0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4.0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7.0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9.0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5.0 52.6 59.2 95.2 132 95.2 73.1.0 132.3-42.6 132.3-95.2.0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6.0-2.2-2.2-6.1-2.2-8.3.0-2.5 2.5-2.5 6.4.0 8.6 22.8 22.8 87.3 22.8 110.2.0 2.5-2.2 2.5-6.1.0-8.6-2.2-2.2-6.1-2.2-8.3.0zm7.7-75c-13.6.0-24.6 11.1-24.6 24.9.0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.1 24.9-24.6.0-13.8-11-24.9-24.9-24.9z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://jonasg.io/posts/why-kafka-streams-jvm-looks-healthy-before-getting-oomkilled/&amp;title=Why%20Kafka%20Streams%20JVM%20Looks%20Healthy%20Before%20Getting%20OOMKilled" title="Share on LinkedIn" aria-label="Share on LinkedIn" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentcolor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg></span></a></section><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="group flex" href=/posts/externalize-rocksdb-configuration-in-spring-boot/><span class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&larr;</span><span class="ltr:hidden rtl:inline">&rarr;</span></span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Externalize RocksDB configuration in spring-boot</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2026-02-22 00:00:00 +0000 UTC">22 February 2026</time>
</span></span></a></span><span><a class="group flex text-right" href=/posts/keeping-spring-boot-test-configurations-simple-and-maintainable/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Keeping Spring Boot Test Configurations Simple and Maintainable</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2025-09-01 00:00:00 +0000 UTC">1 September 2025</time>
</span></span><span class="ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[-2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&rarr;</span><span class="ltr:hidden rtl:inline">&larr;</span></span></a></span></div></div><div class=pt-3><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class=pt-3><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//jonasg-io.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></footer></article></main><div class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12" id=to-top hidden=true><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2026
Jonas Geiregat</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://github.com/jpanther/congo target=_blank rel="noopener noreferrer">Congo</a></p></div><div class="flex flex-row items-center"></div></div></footer><div id=search-wrapper class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://jonasg.io/><div id=search-modal class="top-20 mx-auto flex min-h-0 w-full max-w-3xl flex-col rounded-md border border-neutral-200 bg-neutral shadow-lg dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex flex-none items-center justify-between px-2"><form class="flex min-w-0 flex-auto items-center"><div class="flex h-8 w-8 items-center justify-center text-neutral-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="mx-1 flex h-12 flex-auto appearance-none bg-transparent focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex h-8 w-8 items-center justify-center text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto overflow-auto px-2"><ul id=search-results></ul></section></div></div></div></body></html>